% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/from_css.R
\name{from_css}
\alias{from_css}
\title{Parse CSS color strings}
\usage{
from_css(
  css,
  to = "hex",
  fallback = TRUE,
  distance = c("lab", "oklch", "rgb", "hsl")
)
}
\arguments{
\item{css}{Character vector of CSS color strings. Supported formats:
\itemize{
\item \verb{oklch(L C H)}, \verb{oklch(L C H / A)}
\item \verb{oklab(L A B)}, \verb{oklab(L A B / A)}
\item \verb{rgb(R G B)}, \verb{rgb(R G B / A)}, \code{rgb(R, G, B)}, \code{rgb(R, G, B, A)}
\item \code{rgba(R, G, B, A)}
\item \verb{hsl(H S L)}, \verb{hsl(H S L / A)}, \code{hsl(H, S, L)}, \code{hsl(H, S, L, A)}
\item \code{hsla(H, S, L, A)}
\item Hex colors: \verb{#rgb}, \verb{#rrggbb}, \verb{#rrggbbaa}
}}

\item{to}{Target colour space. One of \code{"hex"} (default), \code{"rgb"}, \code{"hsl"},
\code{"oklab"}, \code{"oklch"}, or \code{"name"}.}

\item{fallback}{Behaviour when mapping \code{to = "name"} and no exact
hex/name match is found. \code{TRUE} (default) returns the closest named
colour using \code{distance} (a warning is issued). \code{FALSE} returns \code{NA}
for unknown colours.}

\item{distance}{Distance metric for nearest-colour fallback: one of
\code{"lab"} (default), \code{"oklch"}, \code{"rgb"}, or \code{"hsl"}.}
}
\value{
For scalar inputs, a named numeric vector (or hex string or colour
name). For vectorised inputs, a matrix with one row per input colour or a
character vector for \code{to = "name"} or \code{to = "hex"}.
}
\description{
Parse CSS color function strings (e.g., \code{oklch(...)}, \code{rgb(...)}, \code{hsl(...)})
or hex colors and convert them to a target color space. Automatically detects
the input format from the CSS syntax.
}
\details{
Both modern (space-separated) and legacy (comma-separated) CSS notations are
supported:

\itemize{
\item Modern: \verb{rgb(255 0 0)}, \verb{rgb(255 0 0 / 0.5)}
\item Legacy: \code{rgb(255, 0, 0)}, \code{rgb(255, 0, 0, 0.5)}
\item Legacy with explicit alpha: \code{rgba(255, 0, 0, 0.5)}
}

Alpha channels are currently parsed but \strong{ignored} during conversion.
}
\examples{
# Parse OKLCH CSS string to hex
from_css("oklch(62.792\% 0.258 29.221 / 1)")

# Parse RGB CSS string (modern & legacy)
from_css("rgb(255 0 0 / 1)", to = "oklch")
from_css("rgb(255, 0, 0)", to = "hex")

# Parse HSL CSS string
from_css("hsl(210 50\% 40\% / 1)", to = "rgb")

# Also works with hex colors
from_css("#ff0000", to = "oklch")

# Vectorized
from_css(c("oklch(62.792\% 0.258 29.221 / 1)", "rgb(0 255 0 / 1)"))
}
